# Phase 4.1: Deploy Configuration - Context

**Gathered:** 2026-02-22
**Status:** Ready for planning

<domain>
## Phase Boundary

Version bump, config.yaml schema completion, and repository.yaml metadata — making the HA add-on deployable with correct version, complete user-configurable fields, and proper repository metadata. Closes DEPLOY-02, DEPLOY-03, DEPLOY-05 from v1.0 audit.

</domain>

<decisions>
## Implementation Decisions

### Version strategy
- Bump to 6.0.0 (reflects Phases 1-4 completion)
- Update everywhere: version.py, config.yaml, main.py docstring
- Fix any version inconsistencies found across the codebase

### Config field presentation
- Expose all LP planner fields in config.yaml options and schema sections
- Use same field names as Config dataclass for consistency
- Include sensible descriptions so HA UI is self-documenting

### Config validation
- Schema should enforce type and range constraints where obvious (e.g., min_soc 0-100, max_soc 0-100)
- Rely on existing ConfigValidator for cross-field rules (min_soc < max_soc)

### Repository metadata
- Add channel: stable to repository.yaml
- Fix any other missing or incorrect metadata fields

### Claude's Discretion
- All implementation details: field ordering, description wording, schema types
- Whether descriptions are in German or English (follow existing config.yaml convention)
- Any additional inconsistencies found during implementation — fix them
- Documentation and numbering consistency across all touched files

</decisions>

<specifics>
## Specific Ideas

- "Korrigiere alle Fehler die du findest" — fix ALL inconsistencies encountered, not just the audit items
- "Ziehe auch die Doku und Nummerierung durch" — make documentation and numbering consistent end-to-end

</specifics>

<deferred>
## Deferred Ideas

None — discussion stayed within phase scope

</deferred>

---

*Phase: 04.1-deploy-configuration*
*Context gathered: 2026-02-22*
